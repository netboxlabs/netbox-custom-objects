{% extends 'generic/object_edit.html' %}
{% load form_helpers %}
{% load i18n %}

{% block title %}
  {% if object.pk %}
    {% trans "Editing" %} {{ object.custom_object_type.get_verbose_name.lower }} {{ object }}
  {% else %}
    {% blocktrans trimmed with custom_object_type=object.custom_object_type.name %}
      Add a new {{ custom_object_type }}
    {% endblocktrans %}
  {% endif %}
{% endblock title %}

{% block form %}
  {# Render hidden fields #}
  {% for field in form.hidden_fields %}
    {{ field }}
  {% endfor %}

  {# Render all fields grouped by group_name #}
  <div class="field-group mb-5">
    {% for group, fields in form.custom_object_type_field_groups.items %}
      {% if group %}
      <div class="row">
        <h3 class="col-9 offset-3 mb-3 h4">{{ group }}</h3>
      </div>
      {% endif %}
      {% for name in fields %}
        {% render_field form|getfield:name %}
      {% endfor %}
    {% endfor %}
  </div>
{% endblock form %}